<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <link
      rel="shortcut icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3E%3Ctext%20y='.9em'%20font-size='90'%3Eüç°%3C/text%3E%3C/svg%3E"
    />
    <link rel="stylesheet" href="/assets/css/bundled_styles.css">
    <title>{{ Title() }} | Mochi</title>
  </head>
  <body class="bg-gray-100 text-gray-900">
    <header class="bg-white shadow">
      <div
        class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 flex justify-between items-center"
      >
        <h1 class="text-3xl font-bold leading-tight text-gray-900">
          <a href="/">üç° mochi</a>
        </h1>
        {{ render "/components/navigation.html" }}
      </div>
    </header>

    <main>
      <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <div class="px-4 py-6 sm:px-0">
          {{ Body() }}
        </div>
      </div>
    </main>

    <div
      id="cookie-banner"
      class="fixed bottom-0 left-0 w-full bg-yellow-300 p-4 text-center hidden"
    >
      <p class="text-black">
        This website uses cookies for basic functionality (track your session so
        the platform knows who you are).
        <br />
        If you continue to use this site, you agree to the use of cookies,
        otherwise you should leave the site.
      </p>

      <div class="mt-2">
        <button id="accept-cookies" class="mr-4 px-4 py-2 bg-blue-500 text-white rounded">
          Accept
        </button>
        <button onclick="rejectCookies();" class="px-4 py-2 bg-red-500 text-white rounded">
          I don't want your cookies!
        </button>
      </div>
    </div>
    <script>
      (function () {
        var acceptedCookies = localStorage.getItem("acceptedCookies");
        if (!acceptedCookies) {
          document.getElementById("cookie-banner").classList.remove("hidden");
        }

        document.getElementById("accept-cookies").onclick = function () {
          localStorage.setItem("acceptedCookies", "true");
          document.getElementById("cookie-banner").classList.add("hidden");
        };
      })();

      function rejectCookies() {
        document.body.innerHTML =
          '<h1 class="text-center mt-20">We\'re sad to hear that, but we respect your cookie choices. Have a fun cookie-free day!</h1>';
      }
    </script>
  </body>
</html>
